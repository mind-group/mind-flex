// eslint-disable-next-line
import ace                  from 'brace'

import 'brace/ext/language_tools'
import 'brace/mode/jsx'
import 'brace/mode/html'
import 'brace/theme/tomorrow'

import PropTypes            from 'prop-types'
import React                from 'react'
import AceEditor            from 'react-ace'

class Editor extends React.Component {
  static propTypes = {
    id: PropTypes.string.isRequired,
    mode: PropTypes.oneOf(['html', 'jsx']),
    value: PropTypes.string.isRequired,
  }

  static defaultProps = {
    mode: 'jsx',
  }

  render() {
    const { id, mode, value, ...rest } = this.props

    return (
      <AceEditor
        name={ id }
        mode={ mode }
        theme='tomorrow'
        width='100%'
        height='100px'
        value={ value }
        enableBasicAutocompletion
        enableLiveAutocompletion
        editorProps={{ $blockScrolling: Infinity }}
        highlightActiveLine={false}
        maxLines={ Infinity }
        showGutter={ false }
        showPrintMargin={ false }
        tabSize={ 2 }
        { ...rest }
      />
    )
  }
}

export default Editor
